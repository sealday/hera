# 赫拉后台架构

## 技术选型

- node
- typescript
- mongodb
- nestjs
- socket.io

## 模块分类

### 通用模块
- 日志
- 认证
- 安全 
- 权限
- 流程
- 通知

### 业务模块

- 状态
  - 订单状态
- 仓库
  - 计划单（无原始对应单据）
  - 流水单（包括原调拨单、购销单等）
  - 流水查询
  - 库存查询
- 财务
- 系统数据
  - 合同方案
    - 租价
    - 赔偿
    - 维修
  - 单价

### 其他问题

- Typegoose
使用它来解决需要同时定义 mongoose 和 interface 的问题，但是我认为定义 class 代替 mongoose 的 schema 不是很合理，很显然的一点理由是，schema 拥有更丰富的设定。实际上我认为应该反过来实践会更好。